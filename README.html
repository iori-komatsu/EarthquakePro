<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>EarthquakePro</title>
    <link rel="stylesheet" href="./Docs/style.css">
  </head>
  <body>
    <div class="heading" style="text-align: center;">
      <h1>EarthquakePro (rev.1)</h1>
      <p><em>(c) 2024 Iori Komatsu (<a href="https://iori-komatsu.github.io/" target="_blank">@iori_komatsu</a>)</em></p>
      <p><video src="./Docs/example.mp4" controls></video></p>
    </div>
    <main>
      <h2>これは何？</h2>
      <p><strong>こだわりたい人向け</strong>振動エフェクトです。以下のような特徴があります。</p>
      <ul>
        <li>Fractal Brownian Motion によるリアルな振動を実装しています</li>
        <li>ニ乗則に従う自然な減衰を簡単に表現できます</li>
        <li>スケール、回転、周波数など、多くのパラメータで振動を調整できます</li>
        <li>BPMを指定することで一定のリズムで振動させることができます</li>
      </ul>
      
      <h2>使い方</h2>
      <ol>
        <li>EarthquakePro.x と EarthquakeProController.pmx を MMD にドラッグアンドドロップしてください</li>
        <li>メニューの [背景] → [アクセサリ編集] で EarthquakePro が一番最後に描画されるように設定してください</li>
        <li>EarthquakeProController の "レベル" を大きくすると画面が振動します</li>
      </ol>

      <h2>パラメータの説明</h2>
      <h3>[モーフ]</h3>
      <dl>
        <dt>レベル</dt>
        <dd>振動の大きさを指定します。0が振動なし、1が振動最大です。</dd>

        <dt>スケール+, スケール-</dt>
        <dd>振動の大きさを変更します。レベルとの違いは<a href="#level-and-scale">「"レベル"と"スケール"は何が違うの？」</a>を参照してください。</dd>

        <dt>回転+, 回転-</dt>
        <dd>振動時に画面を回転させる量を変更します。</dd>

        <dt>縦揺れ-, 横揺れ-</dt>
        <dd>それぞれ縦揺れ・横揺れの量を削減します。</dd>

        <dt>周波数+, 周波数-</dt>
        <dd>画面の振動の速さを調整します。振動を遅くすると揺れている感覚は増しますが画面酔いしやすくなるので注意が必要です。</dd>
      </dl>

      <h3>[ボーン]</h3>
      <dl>
        <dt>BPM (x座標)</dt>
        <dd>ゼロ以外の値に設定すると<strong>自動振動モード</strong>が有効になります。このとき、指定したBPMで自動的に画面が振動するようになります。詳しくは<a href="#periodic-mode">「自動振動モードについて」</a>を参照してください。</dd>

        <dt>タイミング調整 (x座標)</dt>
        <dd>指定したフレームに拍が来るように自動振動のタイミングを調整します。詳しくは<a href="#periodic-mode">「自動振動モードについて」</a>を参照してください。</dd>
      </dl>

      <h2 id="level-and-scale">"レベル"と"スケール"は何が違うの？</h2>
      <p>簡単にいうと"レベル"はアニメーション用のパラメータで、"スケール"はピークの大きさを指定するためのパラメータです。</p>
      <p>例えば、上の作例動画のようにキャラクターの歩行に合わせて振動を加えたいとします。<!--
      -->このとき、"レベル"はキャラの動きに合わせて 1→0, 1→0 を繰り返すようにキーフレームを打ってください(※1)。<!--
      -->そして振動の全体的な大きさは"スケール"を動かすことで調整してください。<!--
      -->こうすることで、自然な振動アニメーションが作成できます(※2)。</p>
      <p>また、揺れの大きさとアニメーションが分離されているので、後から揺れの大きさだけを変えたくなったときに簡単に変更できるという利点もあります。</p>
      <p class="weak">※1 "レベル"は 1→0, 1→0 を繰り返すと書きましたが、必ずしもレベルを 0 まで下げる必要はないです。<!--
      -->例えば上の作例動画では 1→0.2 を繰り返しています。どこまで下げるのがよいかは実際に試してみて決めてください。</p>
      <p class="weak">※2 実は振動を減衰させるときは直線的に減衰させるのではなく二次関数的に減衰させるほうが自然に見えます。<!--
      -->EarthquakePro はこの調整を自動的に行なっています。</p>

      <h2 id="periodic-mode">自動振動モードについて</h2>
      <p>一定のリズムで振動させたいことはよくあると思います。<!--
      -->例えばダンス曲の拍子に合わせて振動させたり、歩行のリズムに合わせて振動させるなどです。<!--
      -->このようなとき一つ一つキーフレームを設定していくのは面倒ですよね？<!--
      --><strong>自動振動モード</strong>を使いましょう！</p>
      <p>自動振動モードを使うためにはまず BPM を BPM ボーンの x 座標に設定します。<!--
      -->BPM とは <b>B</b>eats <b>P</b>er <b>M</b>inute、つまり一分間に何拍打つかを表す数です。<!--
      -->曲の場合は大抵調べれば書いてあります。<!--
      -->BPM がわからない場合、拍から拍までのフレーム数(Interval)がわかれば次の式で計算できます。</p>
      <p style="text-indent: 2em;"><i>BPM = 1800 / Interval</i></p>

      <p>BPM を設定したらタイミング調整ボーンを動かしてタイミングを調整しましょう。<!--
      -->例えば、1000フレーム目にちょうど拍が来るようにしたい場合はタイミング調整ボーンの x 座標に 1000 を指定すればOKです。</p>

      <p>自動振動モードが有効なとき、"レベル"の値は振動の大きさの最小値として解釈されます。<!--
      -->つまり、"レベル"に 0.2 を指定すると、振動の大きさは 1→0.2, 1→0.2, ... とループします。<!--
      -->よくわからないときは、自動振動モードを有効にしたら"レベル"をゼロにしておくとよいでしょう。</p>

      <h2>複数の EarthquakePro のエフェクトを配置したいとき</h2>
      <p>例えば、自動振動モードを使いつつ手動で追加の振動を加えたいような場合、振動エフェクトを複数個配置したくなると思います。<!--
      -->しかし EarthquakePro.x を複数個読み込んでも上手く動きません。</p>
      <p>このようなときは、Sub フォルダの下に EarthquakePro1 ～ EarthquakePro3 が置いてあるのでこれらを使ってください。<!--
      -->使い方は無印の EarthquakePro と全く同じです。</p>

      <h2>ライセンス</h2>
      <p>このエフェクトは <a href="./LICENSE.txt">MIT License</a> の下に配布されています。</p>
    </main>
  </body>
</html>
